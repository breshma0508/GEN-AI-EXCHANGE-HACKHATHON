<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bharat Kalasans</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #FFF8E1;
      border: 5px solid red;
    }
    header {
      text-align: center;
      background: #FBE9E7;
      padding: 20px;
      font-size: 2.5em;
      font-weight: bold;
    }
    nav {
      background: #FFCDD2;
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 10px 0;
    }
    nav button {
      background: #E57373;
      border: none;
      padding: 10px 20px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      border-radius: 4px;
      font-size: 1em;
    }
    nav button:hover {
      background: #D32F2F;
    }
    section {
      display: none;
      max-width: 900px;
      margin: 20px auto;
      padding: 15px;
      background: #FFF3E0;
      border-radius: 8px;
      box-shadow: 0 0 10px #ccc;
    }
    section.active {
      display: block;
    }
    #map {
      height: 500px;
      width: 100%;
      border-radius: 8px;
      border: 3px solid #D32F2F;
    }
    form {
      max-width: 400px;
      margin: 0 auto;
    }
    form label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    form input, form select {
      width: 100%;
      padding: 7px;
      margin-top: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    form button {
      margin-top: 20px;
      width: 100%;
      background: #E57373;
      border: none;
      color: white;
      padding: 12px;
      font-size: 1em;
      cursor: pointer;
      border-radius: 4px;
    }
    form button:hover {
      background: #D32F2F;
    }
    ul.categories-list {
      list-style: none;
      padding-left: 0;
      font-size: 1.2em;
    }
    ul.categories-list li {
      padding: 8px 0;
    }
    .profiles {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    .profile-card {
      background: white;
      border: 2px solid #D32F2F;
      border-radius: 8px;
      padding: 15px;
      flex: 1 1 250px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .profile-card h4 {
      margin-top: 0;
      color: #D32F2F;
    }
    .profile-card p {
      margin: 5px 0;
    }
    .profile-card button {
      margin-top: 10px;
      background: #D32F2F;
      border: none;
      color: white;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 4px;
    }
    .profile-card button:hover {
      background: #a02727;
    }
  </style>
</head>
<body>

<header>Welcome to Bharat Kalasans</header>

<nav>
  <button onclick="showSection('home')">Home</button>
  <button onclick="showSection('map')">Map</button>
  <button onclick="showSection('categories')">Categories</button>
  <button onclick="showSection('register')">Register</button>
</nav>

<section id="home" class="active">
  <h2>About Bharat Kalasans</h2>
  <p>
    Bharat Kalasans is a GenAI-powered platform dedicated to showcasing Indiaâ€™s rich heritage of small-scale industries and artisans.  
    Explore artisan profiles, discover unique crafts, and connect directly to support local talent.
  </p>
</section>

<section id="map">
  <h2>Artisan Map</h2>
  <div id="map"></div>
</section>

<section id="categories">
  <h2>Artisan Categories</h2>
  <ul class="categories-list">
    <li>Pottery</li>
    <li>Bangles</li>
    <li>Wooden Crafts</li>
    <li>Handloom</li>
    <li>Homemade Regional Sweets & Foods</li>
    <li>Silk & Cotton Textiles</li>
  </ul>

  <h3>Featured Artisans</h3>
  <div class="profiles">
    <div class="profile-card">
      <h4>Ravi Kumar - Pottery Artisan</h4>
      <p><b>Location:</b> Kolkata, West Bengal</p>
      <p>Crafts exquisite traditional pottery using age-old techniques.</p>
      <button onclick="alert('Contact Ravi Kumar at contact@potteryartisan.com')">Contact</button>
    </div>
    <div class="profile-card">
      <h4>Meena Sharma - Bangle Maker</h4>
      <p><b>Location:</b> Mumbai, Maharashtra</p>
      <p>Known for colorful, handcrafted glass and metal bangles.</p>
      <button onclick="alert('Contact Meena Sharma at bangles@example.com')">Contact</button>
    </div>
    <div class="profile-card">
      <h4>Amit Singh - Handloom Weaver</h4>
      <p><b>Location:</b> Jaipur, Rajasthan</p>
      <p>Produces exquisite handloom textiles with traditional patterns.</p>
      <button onclick="alert('Contact Amit Singh at handloom@example.com')">Contact</button>
    </div>
  </div>
</section>

<section id="register">
  <h2>Register</h2>
  <form id="register-form">
    <label for="user-type">I am a:</label>
    <select id="user-type" required>
      <option value="">Select...</option>
      <option value="artisan">Artisan</option>
      <option value="customer">Customer</option>
    </select>

    <label for="id-proof">ID Proof:</label>
    <input type="text" id="id-proof" placeholder="Enter your ID proof details" required />

    <label for="address">Address:</label>
    <input type="text" id="address" placeholder="Enter your full address" required />

    <button type="submit">Submit</button>
  </form>
</section>

<!-- Dialogflow CX Web Demo chatbot widget -->
<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>

<df-messenger
  intent="WELCOME"
  chat-title="Bharat Kalasans Bot"
  agent-id="YOUR_AGENT_ID"
  language-code="en"
  expand="true"
></df-messenger>

<!-- Leaflet JS and Map Script -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Section switching logic
  function showSection(id) {
    document.querySelectorAll('section').forEach(section => {
      section.classList.remove('active');
    });
    document.getElementById(id).classList.add('active');

    if (id === 'map' && !window.mapInitialized) {
      initMap();
      window.mapInitialized = true;
    }
  }

  // Form submission handling
  document.getElementById('register-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const userType = document.getElementById('user-type').value;
    const idProof = document.getElementById('id-proof').value;
    const address = document.getElementById('address').value;

    if (userType && idProof && address) {
      alert('Registration successful! Thank you for registering as a ' + userType + '.');
      this.reset();
    } else {
      alert('Please fill in all fields.');
    }
  });

  function initMap() {
    const map = L.map('map').setView([22.9734, 78.6569], 5); // Centered on India

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Artisan data
    const artisans = [
      {
        name: "Ravi Kumar",
        craft: "Pottery",
        location: "Kolkata, West Bengal",
        coords: [22.5726, 88.3639],
        email: "contact@potteryartisan.com"
      },
      {
        name: "Meena Sharma",
        craft: "Bangle Making",
        location: "Mumbai, Maharashtra",
        coords: [19.0760, 72.8777],
        email: "bangles@example.com"
      },
      {
        name: "Amit Singh",
        craft: "Handloom Weaving",
        location: "Jaipur, Rajasthan",
        coords: [26.9124, 75.7873],
        email: "handloom@example.com"
      },
      {
        name: "Lakshmi Devi",
        craft: "Silk Weaving",
        location: "Kanchipuram, Tamil Nadu",
        coords: [12.8342, 79.7036],
        email: "silk@example.com"
      },
      {
        name: "Ramesh Patel",
        craft: "Wooden Toys",
        location: "Channapatna, Karnataka",
        coords: [12.6515, 77.2079],
        email: "woodentoys@example.com"
      }
    ];

    artisans.forEach(artisan => {
      const popupContent = `
        <b>${artisan.name}</b><br>
        <i>${artisan.craft}</i><br>
        <p>${artisan.location}</p>
        <a href="mailto:${artisan.email}">Contact</a>
      `;
      L.marker(artisan.coords).addTo(map).bindPopup(popupContent);
    });
  }
</script>

</body>
</html>
